#VRML V2.0 utf8

# A reflector that is pointing in the positive direction of Z axis.

WorldInfo {
	title "Reflector with chimney and oil reservoir"
	info ["Filip BÃ¡rtek"]
}

EXTERNPROTO	CylinderShape [
	field SFNode appearance
	exposedField SFInt32 lod
	field MFFloat range
	field SFFloat radius
	field SFFloat height
	field SFBool top
	field SFBool bottom
	field SFBool solid
	field SFFloat creaseAngle
	field SFInt32 complexity
]
"cylindershape.wrl#CylinderShape"

Switch {
	choice [
		DEF	Metal Appearance {
			material Material {
				diffuseColor 0.8 0.8 0.8
			}
		}
		DEF	Chimney CylinderShape {
			appearance USE Metal
			top	FALSE
			bottom FALSE
			solid FALSE
			height 1
			radius 0.0375
		}
		DEF	Reservoir CylinderShape	{
			appearance Appearance {
				material Material {
					diffuseColor 0 0 0.1
				}
			}
			height 1
			radius 0.0375
		}
	]
}

# Reflector
Transform {
	children [
		Shape {
			appearance USE Metal
			geometry Cone {
				# http://www.bellrock.org.uk/lighthouse/lighthouse_lightroom.htm
				# parabolic shape of 25 inches in diameter
				# http://www.bellrock.org.uk/lighthouse/lighthouse_stats.htm
				# 25-inch (63.5cm)
				bottomRadius 0.3175
				height 0.3175
			}
		}
	]
	rotation 1 0 0 4.71
	translation	0 0 0.15875
}

# Chimney
Transform {
	children Transform {
		children USE Chimney
		translation	0 0.5 0
	}
	scale 1 0.3175 1
	translation	0 0.1 0.2
}

# Oil reservoir
Transform {
	children Transform {
		children USE Reservoir
		translation	0 0.5 0
	}
	scale 1 0.3175 1
	translation	0 0 -0.0375
}
